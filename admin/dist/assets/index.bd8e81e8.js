import{R as E,G as y,r as u,w as r,H as m,M as o,V as x,W as w,X as b,y as B,t as s,z as T,D as _}from"./vendor.62f997fd.js";import{j as n,a as c,F as C}from"./index.aef5b0f1.js";const j=()=>{const{list:i,loading:M,run:t,error:l,page:p,pageSize:h,total:g,search:O,setSearchAndRun:d}=y(_),F=[{field:"name",name:"\u540D\u79F0"},{field:"articleCount",name:"\u6587\u7AE0\u6570\u91CF"},{name:"\u64CD\u4F5C",render(e,a){return c(C,{children:[n(s,{onClick:()=>f(a),children:"\u4FEE\u6539"}),n(s,{onClick:()=>D(a._id),type:"danger",children:"\u5220\u9664"})]})}}];u.exports.useEffect(()=>{t()},[]);const f=u.exports.useCallback(async e=>{let a="";r.confirm({content:n(m,{onChange:A=>{a=A},defaultValue:e.name}),async onOk(){if(!a)return o.error("\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A");await x(e._id,{name:a}),await t()}})},[]),D=u.exports.useCallback(e=>{r.confirm({content:"\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F",onOk:async()=>{await w(e),await t()}})},[]),k=u.exports.useCallback(()=>{let e="";r.confirm({content:n(m,{onChange:a=>{e=a}}),async onOk(){if(!e)return o.error("\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A");await b({name:e}),await t()}})},[]);return l&&o.error(l),c(C,{children:[c("section",{children:[n(B,{onButtonClick:(e,a)=>d({name:a}),buttonPos:"right",children:"\u641C\u7D22"}),n(s,{type:"success",onClick:k,children:"\u65B0\u5EFA"})]}),i&&n(T,{records:i,page:p,columns:F,trKey:"_id",pageSize:h,total:g,onPageChange:e=>d({page:e})})]})};var H=E.memo(j);export{H as default};
