import{R as E,r as u}from"./vendor.2fb7d379.js";import{y,p as r,j as n,z as m,M as o,J as x,K as w,N as B,c as s,F as p,r as b,B as c,s as T,w as _}from"./index.b59ad4d7.js";const j=()=>{const{list:i,loading:M,run:t,error:l,page:C,pageSize:h,total:g,search:O,setSearchAndRun:d}=y(_),F=[{field:"name",name:"\u540D\u79F0"},{field:"articleCount",name:"\u6587\u7AE0\u6570\u91CF"},{name:"\u64CD\u4F5C",render(e,a){return s(p,{children:[n(c,{onClick:()=>f(a),children:"\u4FEE\u6539"}),n(c,{onClick:()=>k(a._id),type:"danger",children:"\u5220\u9664"})]})}}];u.exports.useEffect(()=>{t()},[]);const f=u.exports.useCallback(async e=>{let a="";r.confirm({content:n(m,{onChange:A=>{a=A},defaultValue:e.name}),async onOk(){if(!a)return o.error("\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A");await x(e._id,{name:a}),await t()}})},[]),k=u.exports.useCallback(e=>{r.confirm({content:"\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F",onOk:async()=>{await w(e),await t()}})},[]),D=u.exports.useCallback(()=>{let e="";r.confirm({content:n(m,{onChange:a=>{e=a}}),async onOk(){if(!e)return o.error("\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A");await B({name:e}),await t()}})},[]);return l&&o.error(l),s(p,{children:[s("section",{children:[n(b,{onButtonClick:(e,a)=>d({name:a}),buttonPos:"right",children:"\u641C\u7D22"}),n(c,{type:"success",onClick:D,children:"\u65B0\u5EFA"})]}),i&&n(T,{records:i,page:C,columns:F,trKey:"_id",pageSize:h,total:g,onPageChange:e=>d({page:e})})]})};var K=E.memo(j);export{K as default};
