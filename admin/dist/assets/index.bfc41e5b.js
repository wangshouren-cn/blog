import{R as D,r as s}from"./vendor.2fb7d379.js";import{y as E,E as F,p as w,G as x,M as S,c as r,F as u,j as a,r as v,S as y,s as M,H as j,v as R,B as i}from"./index.b59ad4d7.js";const H=()=>{const{list:d,loading:I,run:o,error:h,page:C,pageSize:A,total:f,search:L,setSearchAndRun:c}=E(()=>j(R(window.location.search))),g=[{field:"content",name:"\u8BC4\u8BBA"},{field:"auditStatus",name:"\u5BA1\u6838\u72B6\u6001",render:e=>{switch(e){case 1:return a("span",{children:"\u672A\u5BA1\u6838"});case 2:return a("span",{children:"\u5DF2\u5BA1\u6838"});default:return a("span",{children:"\u5DF2\u9A73\u56DE"})}}},{field:"targetContent",name:"\u76EE\u6807\u8BC4\u8BBA"},{field:"articleId",name:"\u6587\u7AE0id"},{name:"\u64CD\u4F5C",render(e,{auditStatus:t,_id:l}){const p=a(i,{onClick:()=>{m(l,{auditStatus:2})},children:"\u5BA1\u6838"}),B=a(i,{onClick:()=>{m(l,{auditStatus:3})},children:"\u9A73\u56DE"});let n;switch(t){case 1:n=r(u,{children:[p,B]});break;case 2:n=a(u,{children:B});break;default:n=a(u,{children:p});break}return r(u,{children:[n,a(i,{onClick:()=>k(l),type:"danger",children:"\u5220\u9664"})]})}}],b=s.exports.useMemo(()=>[{label:"\u5168\u90E8",value:0},{label:"\u672A\u5BA1\u6838",value:1},{label:"\u5DF2\u5BA1\u6838",value:2},{label:"\u5DF2\u9A73\u56DE",value:3}],[]);s.exports.useEffect(()=>{o()},[]);const m=s.exports.useCallback(async(e,t)=>{await F(e,t),await o()},[]),k=s.exports.useCallback(e=>{w.confirm({content:"\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F",onOk:async()=>{await x(e),await o()}})},[]);return h&&S.error(h),r(u,{children:[r("section",{children:[a(v,{onButtonClick:(e,t)=>c({content:t}),buttonPos:"right",children:"\u641C\u7D22"}),a(y,{onChange:e=>c({auditStatus:e}),options:b})]}),d&&a(M,{records:d,page:C,columns:g,trKey:"_id",pageSize:A,total:f,onPageChange:e=>c({page:e})})]})};var G=D.memo(H);export{G as default};
