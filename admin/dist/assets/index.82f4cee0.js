import{R as E,G as A,r,w as u,H as C,M as o,J as x,K as w,O as b,y as B,t as s,z as _,E as O}from"./vendor.62f997fd.js";import{j as t,a as c,F as m}from"./index.aef5b0f1.js";const j=()=>{const{list:i,loading:M,run:n,error:l,page:p,pageSize:h,total:g,search:R,setSearchAndRun:d}=A(O),F=[{field:"name",name:"\u540D\u79F0"},{field:"articleCount",name:"\u6587\u7AE0\u6570\u91CF"},{name:"\u64CD\u4F5C",render(e,a){return c(m,{children:[t(s,{onClick:()=>f(a),children:"\u4FEE\u6539"}),t(s,{onClick:()=>y(a._id),type:"danger",children:"\u5220\u9664"})]})}}];r.exports.useEffect(()=>{n()},[]);const f=r.exports.useCallback(async e=>{let a="";u.confirm({content:t(C,{onChange:D=>{a=D},defaultValue:e.name}),async onOk(){if(!a)return o.error("\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A");await x(e._id,{name:a}),await n()}})},[]),y=r.exports.useCallback(e=>{u.confirm({content:"\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F",onOk:async()=>{await w(e),await n()}})},[]),k=r.exports.useCallback(()=>{let e="";u.confirm({content:t(C,{onChange:a=>{e=a}}),async onOk(){if(!e)return o.error("\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A");await b({name:e}),await n()}})},[]);return l&&o.error(l),c(m,{children:[c("section",{children:[t(B,{onButtonClick:(e,a)=>d({name:a}),buttonPos:"right",children:"\u641C\u7D22"}),t(s,{type:"success",onClick:k,children:"\u65B0\u5EFA"})]}),i&&t(_,{records:i,page:p,columns:F,trKey:"_id",pageSize:h,total:g,onPageChange:e=>d({page:e})})]})};var K=E.memo(j);export{K as default};
