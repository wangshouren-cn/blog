import{r as s}from"./vendor.5ea092ba.js";import{w as m,M as d,p as C,j as e,T as n,x as v,c,d as x,e as r,z as A,Q as B,F as h,B as p,R as b,h as V}from"./index.cbb7f720.js";const S=({form:t})=>{s.exports.useState("write");const y=s.exports.useCallback(async()=>{const{list:o}=await m(),u=o.map(l=>l.name);if(u.length===0)return d.error("\u8FD8\u6CA1\u6709\u6807\u7B7E");let a=[];C.confirm({content:e(n,{value:u,onActiveChange:l=>{a=l},defaultActiveState:t.getValue("tags")}),onCancel(){},onOk(){t.setValues({tags:a})}})},[]),f=s.exports.useCallback(async()=>{const{list:o}=await v(),u=o.map(i=>i.name);if(u.length===0)return d.error("\u8FD8\u6CA1\u6709\u5206\u7C7B");let a,l=t.getValue("category");C.confirm({content:e(n,{defaultActiveState:l?[l]:[],beforeActiveChange:(i,g,F)=>F?(a=g,[g]):(a=null,[]),value:u,showAdd:!1}),onOk(){a?t.setValue("category",a):t.setValue("category",null)}})},[]);return s.exports.useState(""),c(x,{formStore:t,children:[e(r,{rules:[{required:!0}],label:"\u6587\u7AE0\u6807\u9898",field:"title",children:e(A,{})}),e(r,{label:"\u6587\u7AE0\u5185\u5BB9",field:"content",children:e(B,{})}),e(r,{label:"\u5206\u7C7B",field:"category",children:c(h,{children:[e(n,{value:t.getValue("category")?[t.getValue("category")]:[]}),e(p,{onClick:f,children:"\u7F16\u8F91"})]})}),e(r,{label:"\u6807\u7B7E",field:"tags",children:c(h,{children:[e(n,{value:t.getValue("tags")||[]}),e(p,{onClick:y,children:"\u7F16\u8F91"})]})}),e(r,{label:"\u5C01\u9762",field:"cover",children:e(b,{transformer:V})})]})};export{S as default};
