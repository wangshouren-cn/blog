import{R as D,G as F,r as s,P as w,w as E,Q as x,M as S,y,S as v,z as M,U as j,C as P,t as i}from"./vendor.62f997fd.js";import{a as r,F as u,j as t}from"./index.aef5b0f1.js";const R=()=>{const{list:d,run:o,error:h,page:C,pageSize:A,total:f,setSearchAndRun:l}=F(()=>j(P(window.location.search))),b=[{field:"content",name:"\u8BC4\u8BBA"},{field:"auditStatus",name:"\u5BA1\u6838\u72B6\u6001",render:e=>{switch(e){case 1:return t("span",{children:"\u672A\u5BA1\u6838"});case 2:return t("span",{children:"\u5DF2\u5BA1\u6838"});default:return t("span",{children:"\u5DF2\u9A73\u56DE"})}}},{field:"targetContent",name:"\u76EE\u6807\u8BC4\u8BBA"},{field:"articleId",name:"\u6587\u7AE0id"},{name:"\u64CD\u4F5C",render(e,{auditStatus:a,_id:c}){const p=t(i,{onClick:()=>{m(c,{auditStatus:2})},children:"\u5BA1\u6838"}),B=t(i,{onClick:()=>{m(c,{auditStatus:3})},children:"\u9A73\u56DE"});let n;switch(a){case 1:n=r(u,{children:[p,B]});break;case 2:n=t(u,{children:B});break;default:n=t(u,{children:p});break}return r(u,{children:[n,t(i,{onClick:()=>k(c),type:"danger",children:"\u5220\u9664"})]})}}],g=s.exports.useMemo(()=>[{label:"\u5168\u90E8",value:0},{label:"\u672A\u5BA1\u6838",value:1},{label:"\u5DF2\u5BA1\u6838",value:2},{label:"\u5DF2\u9A73\u56DE",value:3}],[]);s.exports.useEffect(()=>{o()},[]);const m=s.exports.useCallback(async(e,a)=>{await w(e,a),await o()},[]),k=s.exports.useCallback(e=>{E.confirm({content:"\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F",onOk:async()=>{await x(e),await o()}})},[]);return h&&S.error(h),r(u,{children:[r("section",{children:[t(y,{onButtonClick:(e,a)=>l({content:a}),buttonPos:"right",children:"\u641C\u7D22"}),t(v,{onChange:e=>l({auditStatus:e}),options:g})]}),d&&t(M,{records:d,page:C,columns:b,trKey:"_id",pageSize:A,total:f,onPageChange:e=>l({page:e})})]})};var L=D.memo(R);export{L as default};
