import{R as A,r}from"./vendor.2fb7d379.js";import{y as E,p as u,j as n,z as C,M as o,A as x,C as w,D as B,c as s,F as m,r as b,B as c,s as _,x as j}from"./index.b59ad4d7.js";const M=()=>{const{list:i,loading:O,run:t,error:l,page:p,pageSize:h,total:g,search:R,setSearchAndRun:d}=E(j),F=[{field:"name",name:"\u540D\u79F0"},{field:"articleCount",name:"\u6587\u7AE0\u6570\u91CF"},{name:"\u64CD\u4F5C",render(e,a){return s(m,{children:[n(c,{onClick:()=>f(a),children:"\u4FEE\u6539"}),n(c,{onClick:()=>y(a._id),type:"danger",children:"\u5220\u9664"})]})}}];r.exports.useEffect(()=>{t()},[]);const f=r.exports.useCallback(async e=>{let a="";u.confirm({content:n(C,{onChange:k=>{a=k},defaultValue:e.name}),async onOk(){if(!a)return o.error("\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A");await x(e._id,{name:a}),await t()}})},[]),y=r.exports.useCallback(e=>{u.confirm({content:"\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F",onOk:async()=>{await w(e),await t()}})},[]),D=r.exports.useCallback(()=>{let e="";u.confirm({content:n(C,{onChange:a=>{e=a}}),async onOk(){if(!e)return o.error("\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A");await B({name:e}),await t()}})},[]);return l&&o.error(l),s(m,{children:[s("section",{children:[n(b,{onButtonClick:(e,a)=>d({name:a}),buttonPos:"right",children:"\u641C\u7D22"}),n(c,{type:"success",onClick:D,children:"\u65B0\u5EFA"})]}),i&&n(_,{records:i,page:p,columns:F,trKey:"_id",pageSize:h,total:g,onPageChange:e=>d({page:e})})]})};var P=A.memo(M);export{P as default};
